{"ast":null,"code":"import React,{useState,useCallback}from\"react\";import classNames from\"classnames/bind\";import styles from\"./ChatInput.module.scss\";import EmojiPicker from\"emoji-picker-react\";import{ThumbsUp,Send}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function ChatInput(_ref){let{onSend}=_ref;const[text,setText]=useState(\"\");const[open,setOpen]=useState(false);// Hàm xử lý khi chọn emoji từ EmojiPicker\nconst handleEmoji=useCallback(emojiObject=>{setText(prev=>prev+emojiObject.emoji);setOpen(false);},[]);const handleSend=useCallback(()=>{if(text.trim()){onSend(text.trim());setText(\"\");}else{// Gửi like nếu không có text\nonSend(\"👍\");}},[text,onSend]);const handleKeyPress=useCallback(e=>{if(e.key===\"Enter\"){handleSend();}},[handleSend]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-area\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp tin nh\\u1EAFn...\",value:text,onChange:e=>setText(e.target.value),onKeyPress:handleKeyPress,className:cx(\"message-input\"),\"aria-label\":\"Nh\\u1EADp tin nh\\u1EAFn\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"emoji-container\"),children:[/*#__PURE__*/_jsx(\"button\",{className:cx(\"emoji-button\"),onClick:()=>setOpen(prev=>!prev),\"aria-label\":\"M\\u1EDF b\\u1EA3ng ch\\u1ECDn bi\\u1EC3u t\\u01B0\\u1EE3ng c\\u1EA3m x\\xFAc\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fi fi-rr-smile\"})}),/*#__PURE__*/_jsx(\"div\",{className:cx(\"emoji-picker\"),style:{display:open?\"block\":\"none\"},children:/*#__PURE__*/_jsx(EmojiPicker,{onEmojiClick:handleEmoji,width:300,height:400,theme:\"auto\",emojiStyle:\"native\",previewConfig:{showPreview:false}})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,className:cx(\"send-button\",{active:text.trim()}),\"aria-label\":text.trim()?\"Gửi tin nhắn\":\"Gửi like\",children:text.trim()?/*#__PURE__*/_jsx(Send,{size:20}):/*#__PURE__*/_jsx(ThumbsUp,{size:20})})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:cx(\"overlay\"),onClick:()=>setOpen(false)})]});}export default ChatInput;","map":{"version":3,"names":["React","useState","useCallback","classNames","styles","EmojiPicker","ThumbsUp","Send","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cx","bind","ChatInput","_ref","onSend","text","setText","open","setOpen","handleEmoji","emojiObject","prev","emoji","handleSend","trim","handleKeyPress","e","key","children","className","type","placeholder","value","onChange","target","onKeyPress","onClick","class","style","display","onEmojiClick","width","height","theme","emojiStyle","previewConfig","showPreview","active","size"],"sources":["/home/ichigomazone/Vscode/ReactJs/new-ui/frontend/src/components/Chat/ChatInput/ChatInput.js"],"sourcesContent":["\nimport React, { useState, useCallback } from \"react\";\nimport classNames from \"classnames/bind\";\nimport styles from \"./ChatInput.module.scss\";\nimport EmojiPicker from \"emoji-picker-react\";\nimport { ThumbsUp, Send } from \"lucide-react\";\n\nconst cx = classNames.bind(styles);\n\nfunction ChatInput({ onSend }) {\n  const [text, setText] = useState(\"\");\n  const [open, setOpen] = useState(false);\n\n  // Hàm xử lý khi chọn emoji từ EmojiPicker\n  const handleEmoji = useCallback((emojiObject) => {\n    setText((prev) => prev + emojiObject.emoji);\n    setOpen(false);\n  }, []);\n\n  const handleSend = useCallback(() => {\n    if (text.trim()) {\n      onSend(text.trim());\n      setText(\"\");\n    } else {\n      // Gửi like nếu không có text\n      onSend(\"👍\");\n    }\n  }, [text, onSend]);\n\n  const handleKeyPress = useCallback((e) => {\n    if (e.key === \"Enter\") {\n      handleSend();\n    }\n  }, [handleSend]);\n\n  return (\n    <>\n      <div className={cx(\"input-area\")}>\n        <input\n          type=\"text\"\n          placeholder=\"Nhập tin nhắn...\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          onKeyPress={handleKeyPress}\n          className={cx(\"message-input\")}\n          aria-label=\"Nhập tin nhắn\"\n        />\n        \n        <div className={cx(\"emoji-container\")}>\n          <button\n            className={cx(\"emoji-button\")}\n            onClick={() => setOpen((prev) => !prev)}\n            aria-label=\"Mở bảng chọn biểu tượng cảm xúc\"\n          >\n            <i class=\"fi fi-rr-smile\"></i>\n          </button>\n          <div className={cx(\"emoji-picker\")} style={{ display: open ? \"block\" : \"none\" }}>\n            <EmojiPicker\n              onEmojiClick={handleEmoji}\n              width={300}\n              height={400}\n              theme=\"auto\"\n              emojiStyle=\"native\"\n              previewConfig={{ showPreview: false }}\n            />\n          </div>\n        </div>\n        \n        <button\n          onClick={handleSend}\n          className={cx(\"send-button\", { active: text.trim() })}\n          aria-label={text.trim() ? \"Gửi tin nhắn\" : \"Gửi like\"}\n        >\n          {text.trim() ? <Send size={20}/> : <ThumbsUp size={20}/>}\n        </button>\n      </div>\n\n      {open && <div className={cx(\"overlay\")} onClick={() => setOpen(false)} />}\n    </>\n  );\n}\n\nexport default ChatInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}