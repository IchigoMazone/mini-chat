{"ast":null,"code":"import classNames from\"classnames/bind\";import styles from\"./Sidebar.module.scss\";import{avatarIcon}from\"../List/image\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);const buckets=\"ichigomazone\";function Sidebar(_ref){var _userInfo$_doc;let{activeIndex,setActiveIndex,datax}=_ref;const handleSetActive=index=>{setActiveIndex(index);};const[userInfo,setUserInfo]=useState({avatar:\"\"});useEffect(()=>{if(!datax)return;const fetchUserInfo=async()=>{try{const res=await axios.post(\"http://localhost:5000/api/auth/leak-info\",{datax});if(res.status===200){setUserInfo(res.data.userInfo);console.log('User info:',res.data.userInfo);}}catch(error){console.error('Error fetching user info:',error);}};fetchUserInfo();},[datax]);return/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('sidebar-content'),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('sidebar-top'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar-item',{active:activeIndex===0}),onClick:()=>handleSetActive(0),children:/*#__PURE__*/_jsx(\"div\",{className:cx('avatar-img'),children:/*#__PURE__*/_jsx(\"img\",{src:(_userInfo$_doc=userInfo._doc)!==null&&_userInfo$_doc!==void 0&&_userInfo$_doc.avatar?\"https://\".concat(buckets,\".s3.amazonaws.com/\").concat(userInfo._doc.avatar):avatarIcon,alt:\"avatar\"})})}),/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar-item',{active:activeIndex===1}),onClick:()=>handleSetActive(1),children:/*#__PURE__*/_jsx(\"div\",{className:cx('icon'),children:/*#__PURE__*/_jsx(\"i\",{class:\"fi fi-rr-envelope\"})})}),/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar-item',{active:activeIndex===2}),onClick:()=>handleSetActive(2),children:/*#__PURE__*/_jsx(\"div\",{className:cx('icon'),children:/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-address-book\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx('sidebar-bottom'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar-item',{active:activeIndex===3}),onClick:()=>handleSetActive(3),children:/*#__PURE__*/_jsx(\"div\",{className:cx('icon'),children:/*#__PURE__*/_jsx(\"i\",{class:\"fi fi-rr-cloud\"})})}),/*#__PURE__*/_jsx(\"div\",{className:cx('sidebar-item',{active:activeIndex===4}),onClick:()=>handleSetActive(4),children:/*#__PURE__*/_jsx(\"div\",{className:cx('icon'),children:/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-settings\"})})})]})]})});}export default Sidebar;","map":{"version":3,"names":["classNames","styles","avatarIcon","axios","useEffect","useState","jsx","_jsx","jsxs","_jsxs","cx","bind","buckets","Sidebar","_ref","_userInfo$_doc","activeIndex","setActiveIndex","datax","handleSetActive","index","userInfo","setUserInfo","avatar","fetchUserInfo","res","post","status","data","console","log","error","className","children","active","onClick","src","_doc","concat","alt","class"],"sources":["/home/ichigomazone/Vscode/ReactJs/new-ui/frontend/src/components/Sidebar/index.js"],"sourcesContent":["\nimport classNames from \"classnames/bind\";\nimport styles from \"./Sidebar.module.scss\";\nimport { avatarIcon } from \"../List/image\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nconst cx = classNames.bind(styles);\nconst buckets = \"ichigomazone\";\n\nfunction Sidebar({ activeIndex, setActiveIndex, datax }) {\n  const handleSetActive = (index) => {\n    setActiveIndex(index);\n  };\n\n  const [userInfo, setUserInfo] = useState({ avatar: \"\" });\n  \n  useEffect(() => {\n    if (!datax) return;\n    \n    const fetchUserInfo = async () => {\n      try {\n        const res = await axios.post(\"http://localhost:5000/api/auth/leak-info\", {\n          datax\n        });\n        if (res.status === 200) {\n          setUserInfo(res.data.userInfo);\n          console.log('User info:', res.data.userInfo);\n        }\n      } catch (error) {\n        console.error('Error fetching user info:', error);\n      }\n    };\n    \n    fetchUserInfo();\n  }, [datax]);\n\n  return (\n    <div className={cx('sidebar')}>\n      <div className={cx('sidebar-content')}>\n        <div className={cx('sidebar-top')}>\n          {/* Avatar */}\n          <div\n            className={cx('sidebar-item', { active: activeIndex === 0 })}\n            onClick={() => handleSetActive(0)}\n          >\n            <div className={cx('avatar-img')}>\n              <img \n                src={userInfo._doc?.avatar ? `https://${buckets}.s3.amazonaws.com/${userInfo._doc.avatar}` : avatarIcon} \n                alt=\"avatar\" \n              />\n            </div>\n          </div>\n          \n          {/* Comment */}\n          <div\n            className={cx('sidebar-item', { active: activeIndex === 1 })}\n            onClick={() => handleSetActive(1)}\n          >\n            <div className={cx('icon')}>\n              <i class=\"fi fi-rr-envelope\"></i>\n            </div>\n          </div>\n          \n          {/* Address Book */}\n          <div\n            className={cx('sidebar-item', { active: activeIndex === 2 })}\n            onClick={() => handleSetActive(2)}\n          >\n            <div className={cx('icon')}>\n              <i className=\"fi fi-rr-address-book\"></i>\n            </div>\n          </div>\n        </div>\n        \n        <div className={cx('sidebar-bottom')}>\n          {/* Cloud */}\n          <div\n            className={cx('sidebar-item', { active: activeIndex === 3 })}\n            onClick={() => handleSetActive(3)}\n          >\n            <div className={cx('icon')}>\n              <i class=\"fi fi-rr-cloud\"></i>\n            </div>\n          </div>\n          \n          {/* Settings */}\n          <div\n            className={cx('sidebar-item', { active: activeIndex === 4 })}\n            onClick={() => handleSetActive(4)}\n          >\n            <div className={cx('icon')}>\n              <i className=\"fi fi-rr-settings\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}