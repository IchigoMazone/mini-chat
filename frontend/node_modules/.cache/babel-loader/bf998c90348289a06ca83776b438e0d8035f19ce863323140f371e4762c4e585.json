{"ast":null,"code":"import React,{useState}from\"react\";import classNames from\"classnames/bind\";import styles from\"./ForgotPassword.module.scss\";import axios from\"axios\";import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function ForgotPassword(){const[email,setEmail]=useState(\"\");const[phone,setPhone]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setErrorMessage('');try{const res=await axios.post(\"http://localhost:5000/api/auth/forgot-password\",{email,phone});if(res.status===200){navigate('/reset-password',{state:{email:email,phone:phone}});}}catch(error){if(error.response){setErrorMessage(error.response.data.message||'Đăng nhập thất bại');}else{setErrorMessage('Lỗi kết nối mạng');}}};return/*#__PURE__*/_jsx(\"div\",{className:cx(\"container\"),children:/*#__PURE__*/_jsxs(\"div\",{className:cx(\"wrapper\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx(\"box\"),children:[/*#__PURE__*/_jsx(\"h2\",{className:cx(\"title\"),children:\"X\\xE1c nh\\u1EADn t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"p\",{className:cx(\"subtitle\"),children:\"Nh\\u1EADp email v\\xE0 s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i \\u0111\\xE3 \\u0111\\u0103ng k\\xFD \\u0111\\u1EC3 x\\xE1c nh\\u1EADn t\\xE0i kho\\u1EA3n.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:cx(\"form\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-envelope\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n...\",className:cx(\"input\"),autoComplete:\"off\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-phone-call\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"input\",{id:\"phone\",type:\"tel\",value:phone,onChange:e=>setPhone(e.target.value),placeholder:\"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i c\\u1EE7a b\\u1EA1n...\",className:cx(\"input\"),autoComplete:\"off\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:cx(\"btn\"),children:\"G\\u1EEDi y\\xEAu c\\u1EA7u x\\xE1c nh\\u1EADn\"})]}),/*#__PURE__*/_jsx(\"p\",{className:cx(\"note\"),children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Quay l\\u1EA1i \\u0111\\u0103ng nh\\u1EADp\"})})]}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:cx(\"error\"),children:errorMessage})]})});}export default ForgotPassword;","map":{"version":3,"names":["React","useState","classNames","styles","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","cx","bind","ForgotPassword","email","setEmail","phone","setPhone","errorMessage","setErrorMessage","navigate","handleSubmit","e","preventDefault","res","post","status","state","error","response","data","message","className","children","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","autoComplete","href"],"sources":["/home/ichigomazone/Vscode/ReactJs/new-ui/frontend/src/pages/ForgotPassword/index.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport classNames from \"classnames/bind\";\nimport styles from \"./ForgotPassword.module.scss\";\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\n\nconst cx = classNames.bind(styles);\n\nfunction ForgotPassword() {\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n  e.preventDefault();\n  setErrorMessage('');\n  \n  try {\n    const res = await axios.post(\"http://localhost:5000/api/auth/forgot-password\", {\n      email,\n      phone,\n    });\n    \n    if (res.status === 200) {\n      navigate('/reset-password', {\n        state : {\n          email: email,\n          phone: phone\n        }\n      });\n    }\n  } catch (error) {\n    if (error.response) {\n      setErrorMessage(error.response.data.message || 'Đăng nhập thất bại');\n    } else {\n      setErrorMessage('Lỗi kết nối mạng');\n    }\n  } \n};\n\n  return (\n    <div className={cx(\"container\")}>\n      <div className={cx(\"wrapper\")}>\n        <div className={cx(\"box\")}>\n          <h2 className={cx(\"title\")}>Xác nhận tài khoản</h2>\n          <p className={cx(\"subtitle\")}>\n            Nhập email và số điện thoại đã đăng ký để xác nhận tài khoản.\n          </p>\n\n          <form onSubmit={handleSubmit} className={cx(\"form\")}>\n            {/* Email */}\n            <div className={cx(\"form-group\")}>\n              <label htmlFor=\"email\">Email</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi fi-rr-envelope\" aria-hidden=\"true\" />\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Nhập email của bạn...\"\n                  className={cx(\"input\")}\n                  autoComplete=\"off\"\n                />\n              </div>\n            </div>\n\n            {/* Số điện thoại */}\n            <div className={cx(\"form-group\")}>\n              <label htmlFor=\"phone\">Số điện thoại</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi fi-rr-phone-call\" aria-hidden=\"true\" />\n                <input\n                  id=\"phone\"\n                  type=\"tel\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  placeholder=\"Nhập số điện thoại của bạn...\"\n                  className={cx(\"input\")}\n                  autoComplete=\"off\"\n                />\n              </div>\n            </div>\n\n            <button type=\"submit\" className={cx(\"btn\")}>\n              Gửi yêu cầu xác nhận\n            </button>\n          </form>\n\n          <p className={cx(\"note\")}>\n            <a href=\"/\">Quay lại đăng nhập</a>\n          </p>\n        </div>\n        {errorMessage && <p className={cx(\"error\")}>{errorMessage}</p>}\n      </div>\n    </div>\n  );\n}\n\nexport default ForgotPassword;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}