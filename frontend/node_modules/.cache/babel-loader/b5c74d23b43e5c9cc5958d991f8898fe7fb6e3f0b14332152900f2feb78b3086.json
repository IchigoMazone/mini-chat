{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import classNames from\"classnames/bind\";import styles from\"./Register.module.scss\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const cx=classNames.bind(styles);function Register(){const[email,setEmail]=useState(\"\");const[phone,setPhone]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);const[showConfirm,setShowConfirm]=useState(false);const[errorMessage,setErrorMessage]=useState(\"\");const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setErrorMessage(\"\");try{const res=await axios.post(\"http://localhost:5000/api/auth/register\",{email,phone,password,confirmPassword});if(res.status===200){alert(\"Đăng ký thành công\");navigate('/');}}catch(error){if(error.response&&error.response.data){setErrorMessage(error.response.data.message);}else{setErrorMessage(\"Lỗi kết nối server!\");}}};return/*#__PURE__*/_jsx(\"div\",{className:cx(\"container\"),children:/*#__PURE__*/_jsx(\"div\",{className:cx(\"wrapper\"),children:/*#__PURE__*/_jsxs(\"div\",{className:cx(\"box\"),children:[/*#__PURE__*/_jsx(\"h2\",{className:cx(\"title\"),children:\"\\u0110\\u0103ng k\\xFD\"}),/*#__PURE__*/_jsx(\"p\",{className:cx(\"subtitle\"),children:\"Nh\\u1EADp th\\xF4ng tin \\u0111\\u1EC3 t\\u1EA1o t\\xE0i kho\\u1EA3n m\\u1EDBi.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:cx(\"form\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rr-envelope\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n...\",className:cx(\"input\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rr-phone-call\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phone,onChange:e=>setPhone(e.target.value),placeholder:\"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i c\\u1EE7a b\\u1EA1n...\",className:cx(\"input\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{children:\"M\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rr-lock\"}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u...\",className:cx(\"input\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cx(\"toggle-btn\"),onClick:()=>setShowPassword(!showPassword),tabIndex:-1,\"aria-label\":showPassword?\"Ẩn mật khẩu\":\"Hiện mật khẩu\",children:showPassword?/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-eye-crossed\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-eye\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"form-group\"),children:[/*#__PURE__*/_jsx(\"label\",{children:\"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsxs(\"div\",{className:cx(\"input-wrapper\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fi-rr-lock\"}),/*#__PURE__*/_jsx(\"input\",{type:showConfirm?\"text\":\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u...\",className:cx(\"input\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cx(\"toggle-btn\"),onClick:()=>setShowConfirm(!showConfirm),tabIndex:-1,\"aria-label\":showConfirm?\"Ẩn mật khẩu\":\"Hiện mật khẩu\",children:showConfirm?/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-eye-crossed\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fi fi-rr-eye\"})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:cx(\"error\",{active:errorMessage}),children:errorMessage||\"\\u00A0\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:cx(\"btn\"),children:\"\\u0110\\u0103ng k\\xFD\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:cx(\"note\"),children:[\"\\u0110\\xE3 c\\xF3 t\\xE0i kho\\u1EA3n? \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]})]})})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","classNames","styles","axios","jsx","_jsx","jsxs","_jsxs","cx","bind","Register","email","setEmail","phone","setPhone","password","setPassword","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirm","setShowConfirm","errorMessage","setErrorMessage","navigate","handleSubmit","e","preventDefault","res","post","status","alert","error","response","data","message","className","children","onSubmit","type","value","onChange","target","placeholder","onClick","tabIndex","active","href"],"sources":["/home/ichigomazone/Vscode/ReactJs/new-ui/frontend/src/pages/Register/index.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport classNames from \"classnames/bind\";\nimport styles from \"./Register.module.scss\";\nimport axios from \"axios\";\n\nconst cx = classNames.bind(styles);\n\nfunction Register() {\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setErrorMessage(\"\");\n\n    try{\n      const res = await axios.post(\"http://localhost:5000/api/auth/register\", {\n        email,\n        phone,\n        password,\n        confirmPassword,\n      });\n\n      if (res.status === 200) {\n        alert(\"Đăng ký thành công\");\n        navigate('/');\n      }\n    }\n    catch(error) {\n      if (error.response && error.response.data) {\n        setErrorMessage(error.response.data.message);\n      } \n      else {\n        setErrorMessage(\"Lỗi kết nối server!\");\n      }\n    }\n  };\n\n  return (\n    <div className={cx(\"container\")}>\n      <div className={cx(\"wrapper\")}>\n        <div className={cx(\"box\")}>\n          <h2 className={cx(\"title\")}>Đăng ký</h2>\n          <p className={cx(\"subtitle\")}>Nhập thông tin để tạo tài khoản mới.</p>\n\n          <form onSubmit={handleSubmit} className={cx(\"form\")}>\n            {/* Email */}\n            <div className={cx(\"form-group\")}>\n              <label>Email</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi-rr-envelope\"></i>\n                <input\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"Nhập email của bạn...\"\n                  className={cx(\"input\")}\n                />\n              </div>\n            </div>\n\n            {/* Phone */}\n            <div className={cx(\"form-group\")}>\n              <label>Số điện thoại</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi-rr-phone-call\"></i>\n                <input\n                  type=\"tel\"\n                  value={phone}\n                  onChange={(e) => setPhone(e.target.value)}\n                  placeholder=\"Nhập số điện thoại của bạn...\"\n                  className={cx(\"input\")}\n                />\n              </div>\n            </div>\n\n            {/* Password */}\n            <div className={cx(\"form-group\")}>\n              <label>Mật khẩu</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi-rr-lock\"></i>\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  placeholder=\"Nhập mật khẩu...\"\n                  className={cx(\"input\")}\n                />\n                <button\n                  type=\"button\"\n                  className={cx(\"toggle-btn\")}\n                  onClick={() => setShowPassword(!showPassword)}\n                  tabIndex={-1}\n                  aria-label={showPassword ? \"Ẩn mật khẩu\" : \"Hiện mật khẩu\"}\n                >\n                  {showPassword ? (\n                    <i className=\"fi fi-rr-eye-crossed\" />\n                  ) : (\n                    <i className=\"fi fi-rr-eye\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Confirm Password */}\n            <div className={cx(\"form-group\")}>\n              <label>Xác nhận mật khẩu</label>\n              <div className={cx(\"input-wrapper\")}>\n                <i className=\"fi-rr-lock\"></i>\n                <input\n                  type={showConfirm ? \"text\" : \"password\"}\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  placeholder=\"Xác nhận mật khẩu...\"\n                  className={cx(\"input\")}\n                />\n                <button\n                  type=\"button\"\n                  className={cx(\"toggle-btn\")}\n                  onClick={() => setShowConfirm(!showConfirm)}\n                  tabIndex={-1}\n                  aria-label={showConfirm ? \"Ẩn mật khẩu\" : \"Hiện mật khẩu\"}\n                >\n                  {showConfirm ? (\n                    <i className=\"fi fi-rr-eye-crossed\" />\n                  ) : (\n                    <i className=\"fi fi-rr-eye\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            {/* Dòng lỗi cố định */}\n            <p className={cx(\"error\", { active: errorMessage })}>\n              {errorMessage || \"\\u00A0\"}\n            </p>\n\n            <button type=\"submit\" className={cx(\"btn\")}>\n              Đăng ký\n            </button>\n          </form>\n\n          <p className={cx(\"note\")}>\n            Đã có tài khoản? <a href=\"/\">Đăng nhập</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}