

// .chat {
//   flex: 9;
//   display: flex;
//   flex-direction: column;
//   background-color: #f8f9fa;
//   font-family: Arial, sans-serif;
//   border-left: 1px solid #ddd;
//   height: 100%;
// }

// .top {
//   background-color: #fff;
//   color: #333;
//   padding: 12px 16px;
//   border-bottom: 1px solid #ddd;
//   display: flex;
//   align-items: center;
//   justify-content: space-between;
//   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
//   min-height: 60px;
// }

// .back-btn {
//   border: none;
//   background: transparent;
//   cursor: pointer;
//   padding: 8px;
//   border-radius: 50%;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   color: #65676b;
//   transition: background-color 0.2s ease;

//   &:hover {
//     background-color: #f2f3f5;
//   }
// }

// .user-info {
//   display: flex;
//   align-items: center;
//   flex: 1;
// }

// .avatar-button {
//   border: none;
//   background: transparent;
//   cursor: pointer;
//   padding: 0;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   transition: transform 0.2s ease;

//   &:hover {
//     transform: scale(1.05);
//   }
// }

// .avatar-container {
//   position: relative;
//   margin-right: 12px;

//   img {
//     width: 40px;
//     height: 40px;
//     border-radius: 50%;
//     object-fit: cover;
//     border: none;
//   }
// }

// .online-status {
//   position: absolute;
//   bottom: 2px;
//   right: 2px;
//   width: 12px;
//   height: 12px;
//   background-color: #42b883;
//   border: 2px solid white;
//   border-radius: 50%;
// }

// .user-details {
//   display: flex;
//   flex-direction: column;
//   align-items: flex-start;

//   h2 {
//     margin: 0;
//     font-size: 16px;
//     font-weight: 600;
//     color: #1c1e21;
//     line-height: 1.2;
//   }

//   .status {
//     font-size: 12px;
//     color: #65676b;
//     margin-top: 2px;
//   }
// }

// .actions {
//   display: flex;
//   align-items: center;
//   gap: 8px;
// }

// .action-btn {
//   border: none;
//   background: transparent;
//   cursor: pointer;
//   padding: 8px;
//   border-radius: 50%;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   color: #0084ff;
//   transition: background-color 0.2s ease;

//   &:hover {
//     background-color: #f0f2f5;
//   }

//   &:nth-child(3),
//   &:nth-child(4) {
//     color: #65676b;
//   }
// }

// .center {
//   flex: 1;
//   overflow-y: auto;
//   padding: 16px;
//   display: flex;
//   flex-direction: column;
//   gap: 8px;
//   background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
//   min-height: 0;
//   flex-shrink: 0;
// }

// .message {
//   display: flex;
//   flex-direction: column;

//   &.sent {
//     align-items: flex-end;
//   }

//   &.received {
//     align-items: flex-start;
//   }
// }

// .message-bubble {
//   max-width: 28%;
//   padding: 10px 14px;
//   border-radius: 5px;
//   box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
//   font-size: 14px;
//   word-break: break-word;
//   position: relative;

//   &.has-media {
//     padding: 0;
//     background: transparent;
//     border: none;
//     box-shadow: none;
//   }
// }

// .sent .message-bubble {
//   background-color: white;
//   color: #333;
//   border: 1px solid #e4e6ea;
// }

// .received .message-bubble {
//   background-color: white;
//   color: #333;
//   border: 1px solid #e4e6ea;
// }

// .message-image img {
//   padding: 0;
//   width: 100%;
//   max-width: 400px;
//   height: auto;
//   border-radius: 5px;
//   display: block;
//   object-fit: cover;
//   margin: 0;
//   box-sizing: border-box;
//   cursor: pointer;

// }

// .message-video video {
//   width: 100%;
//   max-width: 400px;
//   height: auto;
//   border-radius: 5px;
//   display: block;
// }

// .message-text {
//   padding: 8px 10px 4px;
//   font-size: 14px;
// }

// .message-timestamp {
//   font-size: 11px;
//   color: #8a8d91;
//   margin-top: 2px;
//   margin-bottom: 8px;

//   .sent & {
//     text-align: right;
//   }

//   .received & {
//     text-align: left;
//   }
// }

// .message-file {
//   display: inline-flex;
//   align-items: center;
//   padding: 10px 14px;
//   border-radius: 5px;
//   background-color: white;
//   border: 1px solid #f0f4ff;

//   a {
//     color: #6011df;
//     font-weight: 500;
//     text-decoration: none;
//     max-width: 200px; // tránh quá dài
//     overflow: hidden;
//     text-overflow: ellipsis;
//     white-space: nowrap;

//     &:hover {
//       text-decoration: underline;
//     }
//   }
// }


// .cr {
//   background-color: white;
//   padding: 8px 16px;
//   border-top: 1px solid #dee2e6;
//   display: flex;
//   justify-content: flex-start;
//   gap: 12px;
// }

// .cr-button {
//   border: none;
//   background: none;
//   cursor: pointer;
//   padding: 8px;
//   border-radius: 50%;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   transition: background-color 0.2s ease;
//   color: #6c757d;

//   &:hover {
//     background-color: #e9ecef;
//   }
// }

// .input-area {
//   display: flex;
//   align-items: center;
//   gap: 12px;
//   padding: 16px;
//   background-color: white;
//   border-top: 1px solid #dee2e6;
//   box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
// }

// .message-input {
//   flex: 1;
//   padding: 10px 16px;
//   border: 1px solid #dee2e6;
//   border-radius: 25px;
//   outline: none;
//   font-size: 14px;
//   background-color: #f8f9fa;
//   transition: all 0.2s ease;

//   &:focus {
//     background-color: white;
//     border-color: #0084ff;
//     box-shadow: 0 0 0 2px rgba(0, 132, 255, 0.1);
//   }

//   &::placeholder {
//     color: #6c757d;
//   }
// }

// .emoji-container {
//   position: relative;
// }

// .emoji-button {
//   border: none;
//   background: none;
//   cursor: pointer;
//   padding: 8px;
//   border-radius: 50%;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   font-size: 20px;
//   transition: background-color 0.2s ease;

//   &:hover {
//     background-color: #f8f9fa;
//   }
// }

// .emoji-picker {
//   position: absolute;
//   bottom: 100%;
//   right: 0;
//   background-color: white;
//   border: 1px solid #dee2e6;
//   border-radius: 12px;
//   padding: 12px;
//   display: grid;
//   grid-template-columns: repeat(4, 1fr);
//   gap: 8px;
//   box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
//   z-index: 1000;
//   margin-bottom: 8px;
//   min-width: 200px;
// }

// .emoji-item {
//   font-size: 20px;
//   border: none;
//   background: none;
//   cursor: pointer;
//   padding: 8px;
//   border-radius: 8px;
//   transition: background-color 0.2s ease;

//   &:hover {
//     background-color: #f8f9fa;
//   }
// }

// .send-button {
//   border: none;
//   border-radius: 50%;
//   width: 40px;
//   height: 40px;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   cursor: pointer;
//   background-color: #e9ecef;
//   color: #6c757d;
//   transition: all 0.2s ease;

//   &.active {
//     background-color: #0084ff;
//     color: white;
//     box-shadow: 0 2px 4px rgba(0, 132, 255, 0.3);

//     &:hover {
//       background-color: #0056b3;
//     }
//   }

//   &:not(.active):hover {
//     background-color: #dee2e6;
//   }
// }

// .overlay {
//   position: fixed;
//   top: 0;
//   left: 0;
//   right: 0;
//   bottom: 0;
//   z-index: 999;
//   background-color: rgba(0, 0, 0, 0.1);
// }

// .image-preview {
//   position: fixed;
//   top: 0;
//   left: 0;
//   right: 0;
//   bottom: 0;
//   background-color: rgba(0, 0, 0, 0.8);
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   z-index: 1000;

//   img {
//     max-width: 90vw;
//     max-height: 90vh;
//     object-fit: contain;
//     border-radius: 5px;
//   }
// }

// @media (max-width: 768px) {
//   .top {
//     padding: 8px 12px;
//   }

//   .user-details h2 {
//     font-size: 14px;
//   }

//   .user-details .status {
//     font-size: 11px;
//   }

//   .actions {
//     gap: 4px;
//   }

//   .action-btn {
//     padding: 6px;
//   }

//   .input-area {
//     padding: 12px;
//     gap: 8px;
//   }

//   .cr {
//     padding: 6px 12px;
//     gap: 8px;
//   }

//   .message-bubble {
//     max-width: 85%;
//     font-size: 13px;
//   }

//   .message-image img {
//     max-width: 200px;
//   }

//   .message-video video {
//     max-width: 200px;
//   }
// }

// // Thêm vào file Chat.module.scss

// // Thêm vào file Chat.module.scss

// .time-separator {
//   display: flex;
//   justify-content: center;
//   align-items: center;
//   margin: 20px 0;
// }

// .time-separator-content {
//   background-color: #d1d5db;
//   color: #6b7280;
//   padding: 6px 16px;
//   border-radius: 16px;
//   font-size: 13px;
//   font-weight: 500;
//   box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
// }
 
// .message-time{
//   padding-top: 4px;
//   font-size: 11px;
//   color: #8a8d91;
//   margin-top: 2px;
//   margin-bottom: 8px;
// }

// .full-screen-media {
//   opacity: 1;
//   transition: opacity 0.3s ease-in-out;

//   &.fade-out {
//     opacity: 0;
//   }

//   img, video {
//     max-width: 90%;
//     max-height: 90%;
//     object-fit: contain;
//     border-radius: 8px;
//   }
// }

// .request-badge {
//   background: #ff4444;
//   color: white;
//   padding: 2px 6px;
//   border-radius: 10px;
//   font-size: 12px;
//   margin-right: 8px;
//   display: inline-flex;
//   align-items: center;
// }

// // Thêm đoạn CSS này vào file Chat.module.scss hiện tại của bạn

// // Thêm đoạn CSS này vào file Chat.module.scss hiện tại của bạn

// /* Friend Request Bar Styles */
// .friend-request-bar {
//   display: flex;
//   align-items: center;
//   justify-content: space-between;
//   padding: 10px 16px;
//   background-color: #e3f2fd;
//   border-bottom: 1px solid #bbdefb;
//   font-size: 14px;
//   color: #1565c0;
//   position: relative;
//   animation: slideDown 0.3s ease-out;
//   margin: 0;
//   border-radius: 3px; // Bo tròn 3px

//   &.success {
//     background-color: #e8f5e8;
//     border-bottom-color: #a5d6a7;
//     color: #2e7d32;

//     .request-content {
//       .user-icon {
//         background-color: #4caf50;
//       }

//       .success-icon {
//         background-color: #4caf50;
//       }

//       .success-text {
//         color: #2e7d32;
//       }
//     }
//   }

//   .request-content {
//     display: flex;
//     align-items: center;
//     gap: 8px;
//     flex: 1;

//     .user-icon {
//       display: flex;
//       align-items: center;
//       justify-content: center;
//       width: 24px;
//       height: 24px;
//       background-color: #1976d2;
//       border-radius: 50%;
//       color: white;
//       flex-shrink: 0;

//       svg {
//         width: 14px;
//         height: 14px;
//       }

//       &.success-icon {
//         background-color: #4caf50;
//       }
//     }

//     .request-text {
//       line-height: 1.4;
//       font-weight: 400;
//       color: #1565c0;

//       &.success-text {
//         color: #2e7d32;
//       }
//     }
//   }

//   .request-actions {
//     display: flex;
//     align-items: center;
//     gap: 8px;
//     min-width: 72px; // giữ khoảng trống khi nút ẩn (đảm bảo không co)

//     .send-request-btn {
//       padding: 6px 12px;
//       background-color: #1877f2;
//       color: white;
//       border: none;
//       border-radius: 6px;
//       font-size: 13px;
//       font-weight: 600;
//       cursor: pointer;
//       transition: all 0.2s ease;
//       white-space: nowrap;

//       &:hover {
//         background-color: #166fe5;
//       }

//       &:active {
//         transform: scale(0.98);
//       }

//       &.loading {
//         background-color: #8bb8e8;
//         cursor: not-allowed;
//         opacity: 0.8;
//       }

//       &:disabled {
//         cursor: not-allowed;
//       }

//       // Ẩn nút nhưng giữ khoảng trống
//       &.hidden {
//         visibility: hidden;
//       }
//     }

//     // Styles cho nút xác nhận (áp dụng cho FriendRequestConfirmationBar)
//     .confirm-request-btn {
//       padding: 6px 12px;
//       background-color: #4caf50;
//       color: white;
//       border: none;
//       border-radius: 6px;
//       font-size: 13px;
//       font-weight: 600;
//       cursor: pointer;
//       transition: all 0.2s ease;
//       white-space: nowrap;

//       &:hover {
//         background-color: #45a049;
//       }

//       &:active {
//         transform: scale(0.98);
//       }

//       &.loading {
//         background-color: #a5d6a7;
//         cursor: not-allowed;
//         opacity: 0.8;
//       }

//       &:disabled {
//         cursor: not-allowed;
//       }
//     }

//     // Styles cho nút từ chối
//     .reject-request-btn {
//       padding: 6px 12px;
//       background-color: #f44336;
//       color: white;
//       border: none;
//       border-radius: 6px;
//       font-size: 13px;
//       font-weight: 600;
//       cursor: pointer;
//       transition: all 0.2s ease;
//       white-space: nowrap;

//       &:hover {
//         background-color: #da190b;
//       }

//       &:active {
//         transform: scale(0.98);
//       }
//     }
//   }

//   @keyframes slideDown {
//     from {
//       opacity: 0;
//       transform: translateY(-20px);
//     }
//     to {
//       opacity: 1;
//       transform: translateY(0);
//     }
//   }

//   @media (max-width: 768px) {
//     padding: 10px 12px;
//     font-size: 13px;

//     .request-content {
//       gap: 6px;

//       .user-icon {
//         width: 20px;
//         height: 20px;

//         svg {
//           width: 12px;
//           height: 12px;
//         }
//       }
//     }

//     .request-actions {
//       gap: 6px;
//       min-width: 60px;

//       .send-request-btn,
//       .confirm-request-btn,
//       .reject-request-btn {
//         padding: 5px 10px;
//         font-size: 12px;
//       }
//     }
//   }
// }




.chat {
  flex: 9;
  display: flex;
  flex-direction: column;
  background-color: #f8f9fa;
  font-family: Arial, sans-serif;
  border-left: 1px solid #ddd;
  height: 100%;
}

.center {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
  min-height: 0;
  flex-shrink: 0;
}

.message {
  display: flex;
  flex-direction: column;

  &.sent {
    align-items: flex-end;
  }

  &.received {
    align-items: flex-start;
  }
}

.message-bubble {
  max-width: 28%;
  padding: 10px 14px;
  border-radius: 5px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  font-size: 14px;
  word-break: break-word;
  position: relative;

  &.has-media {
    padding: 0;
    background: transparent;
    border: none;
    box-shadow: none;
  }
}

.sent .message-bubble {
  background-color: white;
  color: #333;
  border: 1px solid #e4e6ea;
}

.received .message-bubble {
  background-color: white;
  color: #333;
  border: 1px solid #e4e6ea;
}

.message-image img {
  padding: 0;
  width: 100%;
  max-width: 400px;
  height: auto;
  border-radius: 5px;
  display: block;
  object-fit: cover;
  margin: 0;
  box-sizing: border-box;
  cursor: pointer;
}

.message-video video {
  width: 100%;
  max-width: 400px;
  height: auto;
  border-radius: 5px;
  display: block;
}

.message-text {
  padding: 8px 10px 4px;
  font-size: 14px;
}

.message-time {
  padding-top: 4px;
  font-size: 11px;
  color: #8a8d91;
  margin-top: 2px;
  margin-bottom: 8px;

  .sent & {
    text-align: right;
  }

  .received & {
    text-align: left;
  }
}

.message-file {
  display: inline-flex;
  align-items: center;
  padding: 10px 14px;
  border-radius: 5px;
  background-color: white;
  border: 1px solid #f0f4ff;

  a {
    color: #6011df;
    font-weight: 500;
    text-decoration: none;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;

    &:hover {
      text-decoration: underline;
    }
  }
}

.cr {
  background-color: white;
  padding: 8px 16px;
  border-top: 1px solid #dee2e6;
  display: flex;
  justify-content: flex-start;
  gap: 12px;
}

.cr-button {
  border: none;
  background: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease;
  color: #6c757d;

  &:hover {
    background-color: #e9ecef;
  }
}

.input-area {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  background-color: white;
  border-top: 1px solid #dee2e6;
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.05);
}

.message-input {
  flex: 1;
  padding: 10px 16px;
  border: 1px solid #dee2e6;
  border-radius: 25px;
  outline: none;
  font-size: 14px;
  background-color: #f8f9fa;
  transition: all 0.2s ease;

  &:focus {
    background-color: white;
    border-color: #0084ff;
    box-shadow: 0 0 0 2px rgba(0, 132, 255, 0.1);
  }

  &::placeholder {
    color: #6c757d;
  }
}

.emoji-container {
  position: relative;
}

.emoji-button {
  border: none;
  background: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: #f8f9fa;
  }
}

.emoji-picker {
  position: absolute;
  bottom: 100%;
  right: 0;
  background-color: white;
  border: 1px solid #dee2e6;
  border-radius: 12px;
  padding: 12px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  margin-bottom: 8px;
  min-width: 200px;
}

.emoji-item {
  font-size: 20px;
  border: none;
  background: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: #f8f9fa;
  }
}

.send-button {
  border: none;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  background-color: #e9ecef;
  color: #6c757d;
  transition: all 0.2s ease;

  &.active {
    background-color: #0084ff;
    color: white;
    box-shadow: 0 2px 4px rgba(0, 132, 255, 0.3);

    &:hover {
      background-color: #0056b3;
    }
  }

  &:not(.active):hover {
    background-color: #dee2e6;
  }
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: rgba(0, 0, 0, 0.1);
}

.time-separator {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 20px 0;
}

.time-separator-content {
  background-color: #d1d5db;
  color: #6b7280;
  padding: 6px 16px;
  border-radius: 16px;
  font-size: 13px;
  font-weight: 500;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px) {
  .center {
    padding: 12px;
  }

  .message-bubble {
    max-width: 85%;
    font-size: 13px;
  }

  .message-image img {
    max-width: 200px;
  }

  .message-video video {
    max-width: 200px;
  }

  .input-area {
    padding: 12px;
    gap: 8px;
  }

  .cr {
    padding: 6px 12px;
    gap: 8px;
  }
}


.uploading {
  color: #888;
  font-style: italic;
  display: flex;
  align-items: center;
  gap: 8px;
  &::before {
    content: "";
    width: 16px;
    height: 16px;
    border: 2px solid #888;
    border-top-color: #007bff;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
}

.error {
  color: #d32f2f;
  font-style: italic;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.message-media-loading {
  position: relative;
  display: inline-block;
}

.loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  color: white;
  font-size: 14px;
  z-index: 1;
}

.spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

